#!/bin/bash
# ðŸš€ Quick development workflow script

case "${1:-sim}" in
    "sim"|"simulator")
        exec "$(dirname "$0")/dev-sim.sh" "${@:2}"
        ;;
    "test"|"tests")
        cd "$(dirname "$0")/../code/RocketLauncher"
        pio test -e native
        ;;
    "hw"|"hardware")
        cd "$(dirname "$0")/../code/RocketLauncher"
        pio run -e uno_hw
        ;;
    "clean")
        cd "$(dirname "$0")/../code/RocketLauncher"
        pio run -t clean
        ;;
    "build")
        cd "$(dirname "$0")/../code/RocketLauncher"
        pio run -e simulide -e uno_hw
        ;;
    "help"|"--help"|"-h")
        echo "ðŸš€ Luke's Rocket Launcher - Development Commands"
        echo "================================================"
        echo ""
        echo "Usage: $0 [command] [options]"
        echo ""
        echo "Commands:"
        echo "  sim, simulator    Build and launch simulator (default)"
        echo "  test, tests       Run unit tests"
        echo "  hw, hardware      Build hardware firmware"
        echo "  clean             Clean build files"
        echo "  build             Build both simulation and hardware"
        echo "  help              Show this help"
        echo ""
        echo "Examples:"
        echo "  $0                # Launch simulator"
        echo "  $0 sim --clean    # Clean rebuild simulator"
        echo "  $0 test           # Run tests"
        echo "  $0 hw             # Build hardware firmware"
        ;;
    *)
        echo "Unknown command: $1"
        echo "Run '$0 help' for usage information"
        exit 1
        ;;
esac
